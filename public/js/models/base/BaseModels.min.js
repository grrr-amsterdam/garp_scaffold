Ext.ns('Garp.dataTypes');Garp.dataTypes.AuthLocal=new Garp.DataType({text:__('Auth local'),iconCls:'icon-auth-local',quickCreatable:false,hidden:true,metaPanelItems:['created','modified'],displayFieldRenderer:function(rec){var out=[rec.get('id'),rec.get('ip_address')].join(" ").replace("  "," ");if(!out||out===' '){out=__("New");}
return out;},defaultData:{'id':null,'password':'','ip_address':null,'last_login':null,'created':null,'modified':null,'author_id':null,'modifier_id':null,'user_id':0},sortInfo:{field:'created',direction:'DESC'},columnModel:[{dataIndex:'id',header:__('Id')},{dataIndex:'password',header:__('Password'),hidden:true,searchable:true},{dataIndex:'ip_address',header:__('Ip address'),searchable:true},{dataIndex:'last_login',renderer:Garp.renderers.dateTimeRenderer,header:__('Last login'),hidden:true},{dataIndex:'created',renderer:Garp.renderers.dateTimeRenderer,header:__('Created'),hidden:true},{dataIndex:'modified',renderer:Garp.renderers.dateTimeRenderer,header:__('Modified'),hidden:true},{dataIndex:'author_id',header:__('Created by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'author',header:__('Author'),hidden:true,searchable:true,sortable:true},{dataIndex:'modifier_id',header:__('Modified by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'modifier',header:__('Modifier'),hidden:true,searchable:true,sortable:true},{dataIndex:'user_id',header:__('User')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'user',header:__('User'),hidden:true,searchable:true,sortable:true}],formConfig:[{layout:'form',defaults:{defaultType:'textfield'},listeners:{loaddata:function(rec,formPanel){}},items:[{xtype:"fieldset",items:[{name:'id',fieldLabel:__('Id'),disabled:true,hidden:true,allowDecimals:false,maxLength:8,allowBlank:false,xtype:'numberfield'},{name:'password',fieldLabel:__('Password'),disabled:false,hidden:false,maxLength:32,allowBlank:false,xtype:'textfield'},{name:'ip_address',fieldLabel:__('Ip address'),disabled:false,hidden:false,maxLength:15,allowBlank:true,xtype:'textfield'},{name:'last_login',fieldLabel:__('Last login'),disabled:false,hidden:false,allowBlank:true,xtype:'xdatetime'},{name:'user_id',xtype:'bindedfield',bindedField:'user'},{name:'user',xtype:'joinedrelationfield',bindedField:'user_id',fieldLabel:__('Person'),allowBlank:false,model:'User'}]}]}]});Ext.ns('Garp.dataTypes');Garp.dataTypes.ClusterClearCacheJob=new Garp.DataType({text:__('Cluster clear cache job'),iconCls:'icon-cluster-clear-cache-job',quickCreatable:false,hidden:true,metaPanelItems:['created','modified'],displayFieldRenderer:function(rec){var out=[rec.get('tags')].join(" ").replace("  "," ");if(!out||out===' '){out=__("New");}
return out;},defaultData:{'id':null,'tags':'','created':null,'modified':null,'author_id':null,'modifier_id':null,'creator_id':0},sortInfo:{field:'created',direction:'DESC'},columnModel:[{dataIndex:'id',header:__('Id'),hidden:true},{dataIndex:'tags',header:__('Tags'),searchable:true},{dataIndex:'created',renderer:Garp.renderers.dateTimeRenderer,header:__('Created'),hidden:true},{dataIndex:'modified',renderer:Garp.renderers.dateTimeRenderer,header:__('Modified'),hidden:true},{dataIndex:'author_id',header:__('Created by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'author',header:__('Author'),hidden:true,searchable:true,sortable:true},{dataIndex:'modifier_id',header:__('Modified by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'modifier',header:__('Modifier'),hidden:true,searchable:true,sortable:true},{dataIndex:'creator_id',header:__('Creator')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'creator',header:__('Creator'),hidden:true,searchable:true,sortable:true}],formConfig:[{layout:'form',defaults:{defaultType:'textfield'},listeners:{loaddata:function(rec,formPanel){}},items:[{xtype:"fieldset",items:[{name:'id',fieldLabel:__('Id'),disabled:true,hidden:true,allowDecimals:false,maxLength:8,allowBlank:false,xtype:'numberfield'},{name:'tags',fieldLabel:__('Tags'),disabled:false,hidden:false,allowBlank:false,xtype:'textarea'},{name:'creator_id',xtype:'bindedfield',bindedField:'creator'},{name:'creator',xtype:'joinedrelationfield',bindedField:'creator_id',fieldLabel:__('Creator'),allowBlank:false,model:'ClusterServer'}]}]}]});Ext.ns('Garp.dataTypes');Garp.dataTypes.ClusterRecurringJob=new Garp.DataType({text:__('Cluster recurring job'),iconCls:'icon-cluster-recurring-job',quickCreatable:false,hidden:true,metaPanelItems:['created','modified'],displayFieldRenderer:function(rec){var out=[rec.get('command'),rec.get('interval'),rec.get('at')].join(" ").replace("  "," ");if(!out||out===' '){out=__("New");}
return out;},defaultData:{'id':null,'command':'','interval':null,'at':null,'last_accepted_at':null,'created':null,'modified':null,'author_id':null,'modifier_id':null,'accepter_id':null},sortInfo:{field:'created',direction:'DESC'},columnModel:[{dataIndex:'id',header:__('Id'),hidden:true},{dataIndex:'command',header:__('Command'),searchable:true},{dataIndex:'interval',header:__('Interval')},{dataIndex:'at',renderer:Garp.renderers.timeRenderer,header:__('At')},{dataIndex:'last_accepted_at',renderer:Garp.renderers.dateTimeRenderer,header:__('Last accepted at'),hidden:true},{dataIndex:'created',renderer:Garp.renderers.dateTimeRenderer,header:__('Created'),hidden:true},{dataIndex:'modified',renderer:Garp.renderers.dateTimeRenderer,header:__('Modified'),hidden:true},{dataIndex:'author_id',header:__('Created by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'author',header:__('Author'),hidden:true,searchable:true,sortable:true},{dataIndex:'modifier_id',header:__('Modified by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'modifier',header:__('Modifier'),hidden:true,searchable:true,sortable:true},{dataIndex:'accepter_id',header:__('Accepter')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'accepter',header:__('Accepter'),hidden:true,searchable:true,sortable:true}],formConfig:[{layout:'form',defaults:{defaultType:'textfield'},listeners:{loaddata:function(rec,formPanel){}},items:[{xtype:"fieldset",items:[{name:'id',fieldLabel:__('Id'),disabled:true,hidden:true,allowDecimals:false,maxLength:8,allowBlank:false,xtype:'numberfield'},{name:'command',fieldLabel:__('Command'),disabled:false,hidden:false,allowBlank:false,xtype:'textarea'},{name:'interval',fieldLabel:__('Interval'),disabled:false,hidden:false,editable:false,mode:'local',store:['monthly','daily'],allowBlank:false,xtype:'combo'},{name:'at',fieldLabel:__('At'),disabled:false,hidden:false,allowBlank:false,xtype:'timefield'},{name:'last_accepted_at',fieldLabel:__('Last accepted at'),disabled:false,hidden:false,allowBlank:true,xtype:'xdatetime'},{name:'accepter_id',xtype:'bindedfield',bindedField:'accepter'},{name:'accepter',xtype:'joinedrelationfield',bindedField:'accepter_id',fieldLabel:__('Accepter'),allowBlank:true,model:'ClusterServer'}]}]}]});Ext.ns('Garp.dataTypes');Garp.dataTypes.ClusterServer=new Garp.DataType({text:__('Cluster server'),iconCls:'icon-cluster-server',quickCreatable:false,hidden:true,metaPanelItems:['created','modified'],displayFieldRenderer:function(rec){var out=[rec.get('hostname')].join(" ").replace("  "," ");if(!out||out===' '){out=__("New");}
return out;},defaultData:{'id':null,'hostname':'','created':null,'modified':null,'author_id':null,'modifier_id':null},sortInfo:{field:'created',direction:'DESC'},columnModel:[{dataIndex:'id',header:__('Id'),hidden:true},{dataIndex:'hostname',header:__('Hostname'),searchable:true},{dataIndex:'created',renderer:Garp.renderers.dateTimeRenderer,header:__('Created'),hidden:true},{dataIndex:'modified',renderer:Garp.renderers.dateTimeRenderer,header:__('Modified'),hidden:true},{dataIndex:'author_id',header:__('Created by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'author',header:__('Author'),hidden:true,searchable:true,sortable:true},{dataIndex:'modifier_id',header:__('Modified by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'modifier',header:__('Modifier'),hidden:true,searchable:true,sortable:true}],formConfig:[{layout:'form',defaults:{defaultType:'textfield'},listeners:{loaddata:function(rec,formPanel){}},items:[{xtype:"fieldset",items:[{name:'id',fieldLabel:__('Id'),disabled:true,hidden:true,allowDecimals:false,maxLength:8,allowBlank:false,xtype:'numberfield'}]}]},{xtype:'relationpanel',model:'ClusterRecurringJob',tabTip:__('ClusterRecurringJob'),rule:'Accepter',title:__('ClusterRecurringJob'),quickCreateBtnLabel:'ClusterRecurringJob',quickCreateReference:'clusterserver'},{xtype:'relationpanel',model:'ClusterClearCacheJob',tabTip:__('ClusterClearCacheJob'),minimalUI:true,rule:'Creator',title:__('ClusterClearCacheJob'),quickCreateBtnLabel:'ClusterClearCacheJob',quickCreateReference:'clusterserver'}]});Ext.ns('Garp.dataTypes');Garp.dataTypes.Image=new Garp.DataType({text:__('Image'),iconCls:'icon-image',quickCreatable:true,metaPanelItems:['created','modified'],displayFieldRenderer:function(rec){var out=[rec.get('filename')].join(" ").replace("  "," ");if(!out||out===' '){out=__("New");}
return out;},defaultData:{'id':null,'filename':null,'caption':null,'created':null,'modified':null,'author_id':null,'modifier_id':null},sortInfo:{field:'created',direction:'DESC'},columnModel:[{dataIndex:'id',header:__('Id'),hidden:true},{dataIndex:'filename',header:__('Filename')},{dataIndex:'caption',header:__('Caption'),hidden:true,searchable:true},{dataIndex:'created',renderer:Garp.renderers.dateTimeRenderer,header:__('Created'),hidden:true},{dataIndex:'modified',renderer:Garp.renderers.dateTimeRenderer,header:__('Modified'),hidden:true},{dataIndex:'author_id',header:__('Created by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'author',header:__('Author'),hidden:true,searchable:true,sortable:true},{dataIndex:'modifier_id',header:__('Modified by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'modifier',header:__('Modifier'),hidden:true,searchable:true,sortable:true}],formConfig:[{layout:'form',defaults:{defaultType:'textfield'},listeners:{loaddata:function(rec,formPanel){}},items:[{xtype:"fieldset",items:[{name:'id',fieldLabel:__('Id'),disabled:true,hidden:true,allowDecimals:false,maxLength:8,allowBlank:false,xtype:'numberfield'},{name:'filename',fieldLabel:__('Filename'),disabled:false,hidden:false,emptyText:__('Drag file here, or click browse button'),uploadURL:BASE+'g/content/upload/type/image',ref:'../../../../filename',supportedExtensions:['jpg','jpeg','gif','png'],maxLength:255,allowBlank:false,xtype:'uploadfield'},{ref:'../../../filename_info',name:'filename_info',virtual:true,xtype:'box',cls:'garp-notification-boxcomponent',html:'<div class=\"icon-infofield\"></div>&nbsp;'+__('Only {1} and {2} files with a maximum of {3} MB are allowed','jpg, jpeg, gif','png','30'),fieldLabel:' '},{name:'caption',fieldLabel:__('Caption'),disabled:false,hidden:false,maxLength:255,allowBlank:true,xtype:'textarea'}]}]},{xtype:'relationpanel',model:'Snippet',tabTip:__('Snippet'),rule:'Image',title:__('Snippet'),quickCreateBtnLabel:'Snippet',quickCreateReference:'image'}]});Ext.ns('Garp.dataTypes');Garp.dataTypes.Snippet=new Garp.DataType({text:__('Snippet'),iconCls:'icon-snippet',quickCreatable:false,metaPanelItems:['created','modified'],displayFieldRenderer:function(rec){var out=[rec.get('identifier')].join(" ").replace("  "," ");if(!out||out===' '){out=__("New");}
return out;},defaultData:{'id':null,'identifier':'','uri':null,'name':null,'html':null,'text':null,'has_name':null,'has_html':null,'has_text':null,'has_image':null,'is_editable':1,'variables':null,'slug':null,'created':null,'modified':null,'author_id':null,'modifier_id':null,'image_id':null},sortInfo:{field:'created',direction:'DESC'},columnModel:[{dataIndex:'image_id',renderer:Garp.renderers.imageRelationRenderer,width:84,fixed:true,header:__('Image'),hidden:true,searchable:false},{dataIndex:'id',header:__('Id'),hidden:true},{dataIndex:'identifier',header:__('Identifier'),searchable:true},{dataIndex:'uri',header:__('Uri'),hidden:true,searchable:true},{dataIndex:'name',header:__('Name'),hidden:true,searchable:true},{dataIndex:'html',renderer:Garp.renderers.htmlRenderer,header:__('Html'),hidden:true,searchable:true},{dataIndex:'text',header:__('Text'),hidden:true,searchable:true},{dataIndex:'has_name',renderer:Garp.renderers.checkboxRenderer,header:__('Has name'),hidden:true},{dataIndex:'has_html',renderer:Garp.renderers.checkboxRenderer,header:__('Has html'),hidden:true},{dataIndex:'has_text',renderer:Garp.renderers.checkboxRenderer,header:__('Has text'),hidden:true},{dataIndex:'has_image',renderer:Garp.renderers.checkboxRenderer,header:__('Has image'),hidden:true},{dataIndex:'is_editable',renderer:Garp.renderers.checkboxRenderer,header:__('Is editable'),hidden:true},{dataIndex:'variables',header:__('Variables'),hidden:true,searchable:true},{dataIndex:'slug',header:__('Slug'),hidden:true,searchable:true},{dataIndex:'created',renderer:Garp.renderers.dateTimeRenderer,header:__('Created'),hidden:true},{dataIndex:'modified',renderer:Garp.renderers.dateTimeRenderer,header:__('Modified'),hidden:true},{dataIndex:'author_id',header:__('Created by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'author',header:__('Author'),hidden:true,searchable:true,sortable:true},{dataIndex:'modifier_id',header:__('Modified by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'modifier',header:__('Modifier'),hidden:true,searchable:true,sortable:true}],formConfig:[{layout:'form',defaults:{defaultType:'textfield'},listeners:{loaddata:function(rec,formPanel){formPanel.ImagePreview_image_id.setText(Garp.renderers.imageRelationRenderer(rec.get('image_id'),null,rec)||__('Add image'));}},items:[{xtype:"fieldset",items:[{name:'id',fieldLabel:__('Id'),disabled:true,hidden:true,allowDecimals:false,maxLength:8,allowBlank:false,xtype:'numberfield'},{fieldLabel:__('Image'),allowBlank:true,xtype:'button',ref:'../../../ImagePreview_image_id',tooltip:__('Click to change'),boxMaxWidth:64,listeners:{'click':function(){this.refOwner.imageId.triggerFn();}}},{name:'image_id',xtype:'relationfield',allowBlank:true,autoLoad:false,hidden:true,displayField:'filename',ref:'../../../imageId',model:'Image',allowCreate:true,listeners:{select:function(s){this.refOwner.ImagePreview_image_id.setText(s.selected?Garp.renderers.imageRelationRenderer(s.selected.get('id'),null,s.selected):__('Add image'));}}},{name:'identifier',fieldLabel:__('Identifier'),disabled:false,hidden:false,maxLength:255,allowBlank:false,xtype:'textfield'},{name:'uri',fieldLabel:__('Uri'),disabled:false,hidden:false,maxLength:255,allowBlank:true,xtype:'textfield'},{name:'name',fieldLabel:__('Name'),disabled:false,hidden:false,maxLength:124,allowBlank:true,xtype:'textfield'},{name:'html',fieldLabel:__('Html'),disabled:false,hidden:false,enableMedia:false,enableHeading:false,enableSourceEdit:false,enableEmbed:false,enableAlignments:false,enableColors:false,enableFont:false,enableFontSize:false,enableUnderline:false,enableBlockQuote:false,enableDefinitionList:false,height:200,allowBlank:true,xtype:'wysiwygeditor'},{name:'text',fieldLabel:__('Text'),disabled:false,hidden:false,allowBlank:true,xtype:'textarea'},{name:'has_name',fieldLabel:__('Has name'),disabled:false,hidden:false,maxLength:124,allowBlank:true,xtype:'checkbox'},{name:'has_html',fieldLabel:__('Has html'),disabled:false,hidden:false,allowBlank:true,xtype:'checkbox'},{name:'has_text',fieldLabel:__('Has text'),disabled:false,hidden:false,allowBlank:true,xtype:'checkbox'},{name:'has_image',fieldLabel:__('Has image'),disabled:false,hidden:false,allowBlank:true,xtype:'checkbox'},{name:'variables',fieldLabel:__('Variables'),disabled:false,hidden:false,allowBlank:true,xtype:'textarea'}]}]}]});Ext.ns('Garp.dataTypes');Garp.dataTypes.User=new Garp.DataType({text:__('Person'),iconCls:'icon-user',quickCreatable:false,metaPanelItems:['created','modified'],displayFieldRenderer:function(rec){return rec.get('first_name')?(rec.get('first_name')+(rec.get('last_name_prefix')?' '+rec.get('last_name_prefix')+' ':' ')+(rec.get('last_name')||'')):__('New');},defaultData:{'id':null,'first_name':null,'last_name_prefix':null,'last_name':null,'email':'','role':'user','password_reset_code_expiration_date':null,'password_reset_token':null,'email_validation_token':null,'email_valid':null,'slug':null,'created':null,'modified':null,'author_id':null,'modifier_id':null},sortInfo:{field:'created',direction:'DESC'},columnModel:[{dataIndex:'id',header:__('Id'),hidden:true},{dataIndex:'first_name',header:__('First name'),searchable:true},{dataIndex:'last_name_prefix',header:__('Last name prefix'),searchable:true},{dataIndex:'last_name',header:__('Last name'),searchable:true},{dataIndex:'email',header:__('Email'),hidden:true,searchable:true},{dataIndex:'role',header:__('Role'),hidden:true},{dataIndex:'password_reset_code_expiration_date',renderer:Garp.renderers.dateRenderer,header:__('Password reset code expiration date'),hidden:true},{dataIndex:'password_reset_token',header:__('Password reset token'),hidden:true,searchable:true},{dataIndex:'email_validation_token',header:__('Email validation token'),hidden:true,searchable:true},{dataIndex:'email_valid',renderer:Garp.renderers.checkboxRenderer,header:__('Email valid'),hidden:true},{dataIndex:'slug',header:__('Slug'),hidden:true,searchable:true},{dataIndex:'created',renderer:Garp.renderers.dateTimeRenderer,header:__('Created'),hidden:true},{dataIndex:'modified',renderer:Garp.renderers.dateTimeRenderer,header:__('Modified'),hidden:true},{dataIndex:'author_id',header:__('Created by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'author',header:__('Author'),hidden:true,searchable:true,sortable:true},{dataIndex:'modifier_id',header:__('Modified by')+" id",hidden:true,hideable:false,searchable:false,sortable:false},{dataIndex:'modifier',header:__('Modifier'),hidden:true,searchable:true,sortable:true},{dataIndex:'fullname',header:__('Full name'),hidden:true,virtual:true,virtualSortField:'first_name',convert:Garp.renderers.fullNameConverter}],formConfig:[{layout:'form',defaults:{defaultType:'textfield'},listeners:{loaddata:function(rec,formPanel){}},items:[{xtype:"fieldset",items:[{name:'id',fieldLabel:__('Id'),disabled:true,hidden:true,allowDecimals:false,maxLength:8,allowBlank:false,xtype:'numberfield'},{name:'first_name',fieldLabel:__('First name'),disabled:false,hidden:false,maxLength:100,allowBlank:true,xtype:'textfield'},{name:'last_name_prefix',fieldLabel:__('Last name prefix'),disabled:false,hidden:false,maxLength:20,allowBlank:true,xtype:'textfield'},{name:'last_name',fieldLabel:__('Last name'),disabled:false,hidden:false,maxLength:124,allowBlank:true,xtype:'textfield'},{name:'email',fieldLabel:__('Email'),disabled:false,hidden:false,maxLength:50,allowBlank:false,xtype:'textfield',vtype:'email'},{name:'role',fieldLabel:__('Role'),disabled:false,hidden:false,editable:false,mode:'local',store:['','user','admin','developer'],allowBlank:true,xtype:'combo'},{name:'password_reset_code_expiration_date',fieldLabel:__('Password reset code expiration date'),disabled:false,hidden:true,allowBlank:true,xtype:'datefield'},{name:'password_reset_token',fieldLabel:__('Password reset token'),disabled:false,hidden:true,allowBlank:true,xtype:'textarea'},{name:'email_validation_token',fieldLabel:__('Email validation token'),disabled:false,hidden:true,allowBlank:true,xtype:'textarea'}]}]},{xtype:'relationpanel',model:'AuthLocal',tabTip:__('AuthLocal'),minimalUI:true,rule:'User',title:__('AuthLocal'),quickCreateBtnLabel:'AuthLocal',quickCreateReference:'user'}]});